// This file has been autogenerated from a class added in the UI designer.

using System;

using MonoTouch.Foundation;
using MonoTouch.UIKit;
using ClickNDone.Core;

namespace ClickNDone.iOS
{
	public partial class ServiceRequestController : UIViewController
	{

		readonly OrdersModel ordersModel = (OrdersModel)DependencyInjectionWrapper.Instance.ServiceContainer ().GetService (typeof(OrdersModel));

		public ServiceRequestController (IntPtr handle) : base (handle)
		{

		}

		public override async void ViewDidLoad ()
		{
			base.ViewDidLoad ();
			try {
				var ret = await ordersModel.RequestService ();
				new UIAlertView("Response!", ret, null, "Ok").Show();
			}
			catch (Exception exc)
			{
				new UIAlertView("Oops!", exc.Message, null, "Ok").Show();
			}
		}
	}
}
